package code.blurone.snifferexploited

import org.bukkit.Material
import org.bukkit.entity.EntityType
import org.bukkit.event.EventHandler
import org.bukkit.event.Listener
import org.bukkit.event.entity.EntityDropItemEvent
import kotlin.random.Random

class SlimeChunkSniffer(private val chance: Double) : Listener {

    @EventHandler
    private fun slimeChunkSniffer(event: EntityDropItemEvent)
    {
        if (
            event.entity.type == EntityType.SNIFFER &&
            event.itemDrop.location.chunk.isSlimeChunk &&
            Random.nextDouble() < chance
            )
            event.itemDrop.itemStack.type = Material.SLIME_BALL
    }
}