package code.blurone.snifferexploited

import net.minecraft.core.BlockPos
import net.minecraft.world.entity.PathfinderMob
import net.minecraft.world.entity.ai.goal.MoveToBlockGoal
import net.minecraft.world.level.LevelReader
import org.bukkit.entity.Item

class MoveToSugarGoal(mob: PathfinderMob, private val sugar: Item) : MoveToBlockGoal(mob, 3.0, 9, 9) {
    init {
        this.blockPos = BlockPos(sugar.location.x.toInt(), sugar.location.y.toInt(), sugar.location.z.toInt())
    }

    override fun canUse(): Boolean = sugar.isValid && super.canUse()

    override fun isValidTarget(p0: LevelReader?, p1: BlockPos?): Boolean = sugar.isValid

    public override fun isReachedTarget(): Boolean {
        return super.isReachedTarget()
    }
}